<dom-module id="bss-test-create">
    <template>

        <style>

        </style>

        <h3>Create Test</h3>
        <iron-form id="createTestForm">
            <form action="/foo" method="get">
                <paper-input type="text" name="name" required label="Test Name" value="" required></paper-input>
                <paper-input type="text" name="number" required label="Question Number" value="" required></paper-input>

                <br><br>

                <paper-checkbox name="read" required>You must check this box</paper-checkbox>

                <br><br>

                <paper-button raised onclick="createTestForm.submit()">
                    <paper-spinner id="spinner" hidden></paper-spinner>
                    Submit
                </paper-button>
                <paper-button raised onclick="createTestForm.reset()">Reset</paper-button>
                <!--<paper-button raised onclick="createTestForm.validate()">Validate</paper-button>-->
            </form>
            <br>
        </iron-form>
        <!--<paper-input></paper-input>-->
    </template>



<script>

    Polymer({
        is: "bss-test-create",
        properties: {

        },
        _submitJob: function(event){
            var formdata = new FormData();
            formdata.append('csvfile', this.$.file.files[0]);
            formdata.append('xsize', document.getElementById("xsizeSlider").value);
            formdata.append('ysize', document.getElementById("ysizeSlider").value);
            formdata.append('list_only', document.getElementById("onlyreturnlist").checked);
            formdata.append('send_email', document.getElementById("sendemail").checked);
            formdata.append('email', document.getElementById("validemail").value);
            formdata.append('name', document.getElementById("validname").value);
            formdata.append('submit_type', this.submit_type);
            formdata.append('values',document.getElementById("enteredPositions").value);

            $.ajax({
                url: '/bss/create/',
                type: 'POST',
                //beforeSend: this.beforeSendHandler,
                success: this.completeHandler,
                error: this.errorHandler,
                data: formdata,
                cache: false,
                contentType: false,
                processData: false
            });
        },

    });

    createTestForm.addEventListener('iron-form-submit', function(event) {
        this.querySelector('.output').innerHTML = JSON.stringify(event.detail);
    })

</script>


</dom-module>


